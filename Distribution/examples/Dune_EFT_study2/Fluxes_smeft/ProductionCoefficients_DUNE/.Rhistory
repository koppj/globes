# Load required libraries
library(ggplot2)
v <- c(0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10)
energy_values <- cumsum(v)
# List all .txt files in the current directory
file_list <- list.files(pattern = "DetAllCCQEOxygen.txt")
# Process each file and store the results in a list
result_list <- lapply(file_list, function(file) {
# Read the data file
data <- read.table(file, header = FALSE)
# Interpolate and evaluate each function
interpolated_data <- data.frame(V1 = energy_values)
for (i in 2:ncol(data)) {
f <- approxfun(10^(data$V1), data[[i]], method = "linear")
interpolated_data[[i]] <- f(energy_values)
}
# Replace NaN values with 0
interpolated_data[is.na(interpolated_data)] <- 0
# Save the interpolated data to a new file
write.table(interpolated_data, paste0(file),
row.names = FALSE, col.names = FALSE, quote = FALSE)
return(interpolated_data)
})
# Combine all interpolated data for plotting
combined_data <- do.call(rbind, result_list)
# Plot the combined interpolated functions
ggplot(combined_data, aes(x = V1)) +
geom_line(aes(y = V2), color = "red") +
geom_line(aes(y = V3), color = "blue") +
geom_line(aes(y = V4), color = "green") +
xlab("Energy") +
ylab("Function Value")
# Load required libraries
library(ggplot2)
v <- c(0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10)
energy_values <- cumsum(v)
# List all .txt files in the current directory
file_list <- list.files(pattern = "*.txt")
# Process each file and store the results in a list
result_list <- lapply(file_list, function(file) {
# Read the data file
data <- read.table(file, header = FALSE)
# Interpolate and evaluate each function
interpolated_data <- data.frame(V1 = energy_values)
for (i in 2:ncol(data)) {
f <- approxfun(10^(data$V1), data[[i]], method = "linear")
interpolated_data[[i]] <- f(energy_values)
}
# Replace NaN values with 0
interpolated_data[is.na(interpolated_data)] <- 0
# Save the interpolated data to a new file
write.table(interpolated_data, paste0(file),
row.names = FALSE, col.names = FALSE, quote = FALSE)
return(interpolated_data)
})
# Combine all interpolated data for plotting
combined_data <- do.call(rbind, result_list)
# Plot the combined interpolated functions
ggplot(combined_data, aes(x = V1)) +
geom_line(aes(y = V2), color = "red") +
geom_line(aes(y = V3), color = "blue") +
geom_line(aes(y = V4), color = "green") +
xlab("Energy") +
ylab("Function Value")
# Load required libraries
library(ggplot2)
v <- c(0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10)
energy_values <- cumsum(v)
# List all .txt files in the current directory
file_list <- list.files(pattern = "*.txt")
# Process each file and store the results in a list
result_list <- lapply(file_list, function(file) {
# Read the data file
data <- read.table(file, header = FALSE)
# Interpolate and evaluate each function
interpolated_data <- data.frame(V1 = energy_values)
for (i in 2:ncol(data)) {
f <- approxfun(10^(data$V1), data[[i]], method = "linear")
interpolated_data[[i]] <- f(energy_values)
}
# Replace NaN values with 0
interpolated_data[is.na(interpolated_data)] <- 0
# Save the interpolated data to a new file
write.table(interpolated_data, paste0(file,"modified",sep=""),
row.names = FALSE, col.names = FALSE, quote = FALSE)
return(interpolated_data)
})
# Combine all interpolated data for plotting
combined_data <- do.call(rbind, result_list)
# Plot the combined interpolated functions
ggplot(combined_data, aes(x = V1)) +
geom_line(aes(y = V2), color = "red") +
geom_line(aes(y = V3), color = "blue") +
geom_line(aes(y = V4), color = "green") +
xlab("Energy") +
ylab("Function Value")
# Load required libraries
library(ggplot2)
v <- c(0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10)
energy_values <- cumsum(v)
# List all .txt files in the current directory
file_list <- list.files(pattern = "*.txt")
# Process each file and store the results in a list
result_list <- lapply(file_list, function(file) {
# Read the data file
data <- read.table(file, header = FALSE)
# Interpolate and evaluate each function
interpolated_data <- data.frame(V1 = energy_values)
for (i in 2:ncol(data)) {
f <- approxfun(10^(data$V1), data[[i]], method = "linear")
interpolated_data[[i]] <- f(energy_values)
}
# Replace NaN values with 0
interpolated_data[is.na(interpolated_data)] <- 0
# Save the interpolated data to a new file
write.table(interpolated_data, paste0("modified_",file,,sep=""),
row.names = FALSE, col.names = FALSE, quote = FALSE)
return(interpolated_data)
})
# Load required libraries
library(ggplot2)
v <- c(0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 0.125, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10)
energy_values <- cumsum(v)
# List all .txt files in the current directory
file_list <- list.files(pattern = "*.txt")
# Process each file and store the results in a list
result_list <- lapply(file_list, function(file) {
# Read the data file
data <- read.table(file, header = FALSE)
# Interpolate and evaluate each function
interpolated_data <- data.frame(V1 = energy_values)
for (i in 2:ncol(data)) {
f <- approxfun(10^(data$V1), data[[i]], method = "linear")
interpolated_data[[i]] <- f(energy_values)
}
# Replace NaN values with 0
interpolated_data[is.na(interpolated_data)] <- 0
# Save the interpolated data to a new file
write.table(interpolated_data, paste0("modified_",file,sep=""),
row.names = FALSE, col.names = FALSE, quote = FALSE)
return(interpolated_data)
})
# Combine all interpolated data for plotting
combined_data <- do.call(rbind, result_list)
# Plot the combined interpolated functions
ggplot(combined_data, aes(x = V1)) +
geom_line(aes(y = V2), color = "red") +
geom_line(aes(y = V3), color = "blue") +
geom_line(aes(y = V4), color = "green") +
xlab("Energy") +
ylab("Function Value")
